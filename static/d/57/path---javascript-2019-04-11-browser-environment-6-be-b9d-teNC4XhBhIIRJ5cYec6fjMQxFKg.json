{"data":{"site":{"siteMetadata":{"title":"Toweave's blog. Power by Gatsby & React.","author":"Toweave"}},"markdownRemark":{"id":"c230df02-b44d-5306-b516-44695ae4efbc","excerpt":"常用的浏览器运行环境判断","html":"<h4>常用的浏览器运行环境判断</h4>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">  <span class=\"token comment\">// Browser environment sniffing</span>\n  <span class=\"token keyword\">var</span> inBrowser <span class=\"token operator\">=</span> <span class=\"token keyword\">typeof</span> window <span class=\"token operator\">!==</span> <span class=\"token string\">'undefined'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> inWeex <span class=\"token operator\">=</span> <span class=\"token keyword\">typeof</span> WXEnvironment <span class=\"token operator\">!==</span> <span class=\"token string\">'undefined'</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span><span class=\"token operator\">!</span>WXEnvironment<span class=\"token punctuation\">.</span>platform<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> weexPlatform <span class=\"token operator\">=</span> inWeex <span class=\"token operator\">&amp;&amp;</span> WXEnvironment<span class=\"token punctuation\">.</span>platform<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> <span class=\"token constant\">UA</span> <span class=\"token operator\">=</span> inBrowser <span class=\"token operator\">&amp;&amp;</span> window<span class=\"token punctuation\">.</span>navigator<span class=\"token punctuation\">.</span>userAgent<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> isIE <span class=\"token operator\">=</span> <span class=\"token constant\">UA</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token regex\">/msie|trident/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token constant\">UA</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> isIE9 <span class=\"token operator\">=</span> <span class=\"token constant\">UA</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token constant\">UA</span><span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'msie 9.0'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> isEdge <span class=\"token operator\">=</span> <span class=\"token constant\">UA</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token constant\">UA</span><span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'edge/'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> isAndroid <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">UA</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token constant\">UA</span><span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'android'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>weexPlatform <span class=\"token operator\">===</span> <span class=\"token string\">'android'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> isIOS <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">UA</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token regex\">/iphone|ipad|ipod|ios/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token constant\">UA</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>weexPlatform <span class=\"token operator\">===</span> <span class=\"token string\">'ios'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> isChrome <span class=\"token operator\">=</span> <span class=\"token constant\">UA</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token regex\">/chrome\\/\\d+/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token constant\">UA</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>isEdge<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> isPhantomJS <span class=\"token operator\">=</span> <span class=\"token constant\">UA</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token regex\">/phantomjs/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token constant\">UA</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> isFF <span class=\"token operator\">=</span> <span class=\"token constant\">UA</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token constant\">UA</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/firefox\\/(\\d+)/</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","frontmatter":{"date":"Thursday, April 11th 2019, 9:05:35 am","title":"浏览器运行环境判断","tags":["HOT","JavaScript","精选"],"description":"常用的浏览器运行环境判断"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/javascript/2019-04-11-browser-environment/","previous":{"fields":{"slug":"/inspiration/2019-04-10-ruanyifeng-issue-50/"},"frontmatter":{"title":"现在很多人开网约车，这样能赚多少钱，能够赚到大钱吗？","tags":["HOT","精选"]}},"next":{"fields":{"slug":"/vue/2019-04-11-vue-life-cycle/"},"frontmatter":{"title":"vue 实例生命周期钩子","tags":["HOT","Vue","精选"]}}}}