{"data":{"site":{"siteMetadata":{"title":"Toweave's blog. Power by Gatsby & React.","author":"Toweave"}},"markdownRemark":{"id":"4d4dd99a-a806-5185-bd36-940b8a91927f","excerpt":"Linux 服务器有的初始化软件版本过低，经常面临软件更新、安全问题，我们该如何更新软件呢？ 备份 CentOS-Base.repo 下载新的CentOS-Base.repo 到 /etc/yum.repos.d/ 运行命令 把Nginx从1.12.2升级到 1.14.2 为yum建立nginx安装库 升级Nginx…","html":"<p>Linux 服务器有的初始化软件版本过低，经常面临软件更新、安全问题，我们该如何更新软件呢？</p>\n<ol>\n<li>\n<p>备份 CentOS-Base.repo</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber 0\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">mv</span> /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n<li>\n<p>下载新的CentOS-Base.repo 到 /etc/yum.repos.d/</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber 0\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># centos 5</span>\n<span class=\"token function\">wget</span> -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-5.repo  \n<span class=\"token comment\"># centos 6</span>\n<span class=\"token function\">wget</span> -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo  \n<span class=\"token comment\"># centos 7</span>\n<span class=\"token function\">wget</span> -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>运行命令</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber 0\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># 把服务器的包信息下载到本地电脑缓存起来</span>\nyum makecache  \nyum <span class=\"token function\">install</span> epel-release  \nyum <span class=\"token function\">install</span> nginx   </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>把Nginx从1.12.2升级到 1.14.2</p>\n</li>\n<li>\n<p>为yum建立nginx安装库</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber 0\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># 在/etc/yum.repos.d目录下创建文件nginx.repo，输入如下内容：</span>\n<span class=\"token comment\"># nginx.repo</span>\n<span class=\"token punctuation\">[</span>nginx<span class=\"token punctuation\">]</span>\nname<span class=\"token operator\">=</span>nginx repo  \nbaseurl<span class=\"token operator\">=</span>http://nginx.org/packages/centos/7/<span class=\"token variable\">$basearch</span>/  \ngpgcheck<span class=\"token operator\">=</span>0  \nenabled<span class=\"token operator\">=</span>1 </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>升级Nginx</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber 0\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># 运行</span>\n<span class=\"token operator\">></span> yum update nginx\n<span class=\"token comment\"># ok 了</span>\n<span class=\"token comment\"># 停止、重启nginx服务：</span>\n<span class=\"token operator\">></span> <span class=\"token function\">service</span> nginx stop\nStopping nginx:                                            <span class=\"token punctuation\">[</span>  OK  <span class=\"token punctuation\">]</span>  \n<span class=\"token operator\">></span> <span class=\"token function\">service</span> nginx start\nStarting nginx:                                            <span class=\"token punctuation\">[</span>  OK  <span class=\"token punctuation\">]</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>清理 nginx repo</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber 0\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># 再次编辑文件/etc/yum.repos.d/nginx.repo：</span>\n<span class=\"token comment\"># nginx.repo</span>\n<span class=\"token punctuation\">[</span>nginx<span class=\"token punctuation\">]</span>\n<span class=\"token comment\"># 其他内容省略</span>\nenabled<span class=\"token operator\">=</span>0\n<span class=\"token comment\"># 最后，清理yum的缓存：</span>\n<span class=\"token operator\">></span> yum clean all</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n</ol>","frontmatter":{"date":"Tuesday, April 2nd 2019, 7:16:11 am","title":"Centos 更新源，升级程序","tags":["HOT","Linux"],"description":"Linux 服务器有的初始化软件版本过低，经常面临软件更新、安全问题，我们该如何更新软件呢？"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/linux/centos-update-the-software/","previous":{"fields":{"slug":"/javascript/float-point-number/"},"frontmatter":{"title":"浮点数运算的精度问题","tags":["HOT","JavaScript","精选"]}},"next":{"fields":{"slug":"/htmlcss/write-css/"},"frontmatter":{"title":"CSS书写顺序规范","tags":["HOT","CSS"]}}}}