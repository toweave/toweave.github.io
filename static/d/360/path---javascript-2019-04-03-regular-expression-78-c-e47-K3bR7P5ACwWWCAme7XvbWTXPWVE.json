{"data":{"site":{"siteMetadata":{"title":"Toweave's blog. Power by Gatsby & React.","author":"Toweave"}},"markdownRemark":{"id":"912a5f73-93dc-5770-a25e-77a4dff7555b","excerpt":"Date 对象用于处理日期和时间。 Date 对象创建语法。 Date 对象属性。   属性 描述 constructor 返回对创建此对象的 Date 函数的引用。 prototype 使您有能力向对象添加属性和方法。 Date 对象方法。   属性 描述 Date() 返回当日的日期和时间。 getDate…","html":"<p>Date 对象用于处理日期和时间。</p>\n<ol>\n<li>\n<p>Date 对象创建语法。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> myDate<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// 注释：Date 对象会自动把当前日期和时间保存为其初始值。</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>Date 对象属性。  </p>\n</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>constructor</td>\n<td>返回对创建此对象的 Date 函数的引用。</td>\n</tr>\n<tr>\n<td>prototype</td>\n<td>使您有能力向对象添加属性和方法。</td>\n</tr>\n</tbody>\n</table>\n<ol start=\"3\">\n<li>Date 对象方法。  </li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Date()</td>\n<td>返回当日的日期和时间。</td>\n</tr>\n<tr>\n<td>getDate()</td>\n<td>从 Date 对象返回一个月中的某一天 (1 ~ 31)。</td>\n</tr>\n<tr>\n<td>getDay()</td>\n<td>从 Date 对象返回一周中的某一天 (0 ~ 6)。</td>\n</tr>\n<tr>\n<td>getMonth()</td>\n<td>从 Date 对象返回月份 (0 ~ 11)。</td>\n</tr>\n<tr>\n<td>getFullYear()</td>\n<td>从 Date 对象以四位数字返回年份。</td>\n</tr>\n<tr>\n<td>getYear()</td>\n<td>请使用 getFullYear() 方法代替。</td>\n</tr>\n<tr>\n<td>getHours()</td>\n<td>返回 Date 对象的小时 (0 ~ 23)。</td>\n</tr>\n<tr>\n<td>getMinutes()</td>\n<td>返回 Date 对象的分钟 (0 ~ 59)。</td>\n</tr>\n<tr>\n<td>getSeconds()</td>\n<td>返回 Date 对象的秒数 (0 ~ 59)。</td>\n</tr>\n<tr>\n<td>getMilliseconds()</td>\n<td>返回 Date 对象的毫秒(0 ~ 999)。</td>\n</tr>\n<tr>\n<td>getTime()</td>\n<td>返回 1970 年 1 月 1 日至今的毫秒数。</td>\n</tr>\n<tr>\n<td>getTimezoneOffset()</td>\n<td>返回本地时间与格林威治标准时间 (GMT) 的分钟差。</td>\n</tr>\n<tr>\n<td>getUTCDate()</td>\n<td>根据世界时从 Date 对象返回月中的一天 (1 ~ 31)。</td>\n</tr>\n<tr>\n<td>getUTCDay()</td>\n<td>根据世界时从 Date 对象返回周中的一天 (0 ~ 6)。</td>\n</tr>\n<tr>\n<td>getUTCMonth()</td>\n<td>根据世界时从 Date 对象返回月份 (0 ~ 11)。</td>\n</tr>\n<tr>\n<td>getUTCFullYear()</td>\n<td>根据世界时从 Date 对象返回四位数的年份。</td>\n</tr>\n<tr>\n<td>getUTCHours()</td>\n<td>根据世界时返回 Date 对象的小时 (0 ~ 23)。</td>\n</tr>\n<tr>\n<td>getUTCMinutes()</td>\n<td>根据世界时返回 Date 对象的分钟 (0 ~ 59)。</td>\n</tr>\n<tr>\n<td>getUTCSeconds()</td>\n<td>根据世界时返回 Date 对象的秒钟 (0 ~ 59)。</td>\n</tr>\n<tr>\n<td>getUTCMilliseconds()</td>\n<td>根据世界时返回 Date 对象的毫秒(0 ~ 999)。</td>\n</tr>\n<tr>\n<td>parse()</td>\n<td>返回1970年1月1日午夜到指定日期（字符串）的毫秒数。</td>\n</tr>\n<tr>\n<td>setDate()</td>\n<td>设置 Date 对象中月的某一天 (1 ~ 31)。</td>\n</tr>\n<tr>\n<td>setMonth()</td>\n<td>设置 Date 对象中月份 (0 ~ 11)。</td>\n</tr>\n<tr>\n<td>setFullYear()</td>\n<td>设置 Date 对象中的年份（四位数字）。</td>\n</tr>\n<tr>\n<td>setYear()</td>\n<td>请使用 setFullYear() 方法代替。</td>\n</tr>\n<tr>\n<td>setHours()</td>\n<td>设置 Date 对象中的小时 (0 ~ 23)。</td>\n</tr>\n<tr>\n<td>setMinutes()</td>\n<td>设置 Date 对象中的分钟 (0 ~ 59)。</td>\n</tr>\n<tr>\n<td>setSeconds()</td>\n<td>设置 Date 对象中的秒钟 (0 ~ 59)。</td>\n</tr>\n<tr>\n<td>setMilliseconds()</td>\n<td>设置 Date 对象中的毫秒 (0 ~ 999)。</td>\n</tr>\n<tr>\n<td>setTime()</td>\n<td>以毫秒设置 Date 对象。</td>\n</tr>\n<tr>\n<td>setUTCDate()</td>\n<td>根据世界时设置 Date 对象中月份的一天 (1 ~ 31)。</td>\n</tr>\n<tr>\n<td>setUTCMonth()</td>\n<td>根据世界时设置 Date 对象中的月份 (0 ~ 11)。</td>\n</tr>\n<tr>\n<td>setUTCFullYear()</td>\n<td>根据世界时设置 Date 对象中的年份（四位数字）。</td>\n</tr>\n<tr>\n<td>setUTCHours()</td>\n<td>根据世界时设置 Date 对象中的小时 (0 ~ 23)。</td>\n</tr>\n<tr>\n<td>setUTCMinutes()</td>\n<td>根据世界时设置 Date 对象中的分钟 (0 ~ 59)。</td>\n</tr>\n<tr>\n<td>setUTCSeconds()</td>\n<td>根据世界时设置 Date 对象中的秒钟 (0 ~ 59)。</td>\n</tr>\n<tr>\n<td>setUTCMilliseconds()</td>\n<td>根据世界时设置 Date 对象中的毫秒 (0 ~ 999)。</td>\n</tr>\n<tr>\n<td>toSource()</td>\n<td>返回该对象的源代码。</td>\n</tr>\n<tr>\n<td>toString()</td>\n<td>把 Date 对象转换为字符串。</td>\n</tr>\n<tr>\n<td>toTimeString()</td>\n<td>把 Date 对象的时间部分转换为字符串。</td>\n</tr>\n<tr>\n<td>toDateString()</td>\n<td>把 Date 对象的日期部分转换为字符串。</td>\n</tr>\n<tr>\n<td>toGMTString()</td>\n<td>请使用 toUTCString() 方法代替。</td>\n</tr>\n<tr>\n<td>toUTCString()</td>\n<td>根据世界时，把 Date 对象转换为字符串。</td>\n</tr>\n<tr>\n<td>toISOString()</td>\n<td>根据世界时( ISO 8601 )，把 Date 对象转换为字符串。</td>\n</tr>\n<tr>\n<td>toLocaleString()</td>\n<td>根据本地时间格式，把 Date 对象转换为字符串。</td>\n</tr>\n<tr>\n<td>toLocaleTimeString()</td>\n<td>根据本地时间格式，把 Date 对象的时间部分转换为字符串。</td>\n</tr>\n<tr>\n<td>toLocaleDateString()</td>\n<td>根据本地时间格式，把 Date 对象的日期部分转换为字符串。</td>\n</tr>\n<tr>\n<td>UTC()</td>\n<td>根据世界时返回 1970 年 1 月 1 日 到指定日期的毫秒数。</td>\n</tr>\n<tr>\n<td>valueOf()</td>\n<td>返回 Date 对象的原始值。</td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">// 不错的时间格式化函数</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">DatePart</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">interval</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>   \n <span class=\"token keyword\">var</span> myDate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> partStr<span class=\"token operator\">=</span><span class=\"token string\">''</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> Week <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'日'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'一'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'二'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'三'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'四'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'五'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'六'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>interval<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>   \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'y'</span> <span class=\"token punctuation\">:</span>partStr <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>  \n  <span class=\"token keyword\">case</span> <span class=\"token string\">'Y'</span> <span class=\"token punctuation\">:</span>partStr <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span> \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'m'</span> <span class=\"token punctuation\">:</span>partStr <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span> \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'M'</span> <span class=\"token punctuation\">:</span>\n     <span class=\"token keyword\">var</span> myDatem<span class=\"token operator\">=</span>myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n     partStr <span class=\"token operator\">=</span>myDatem<span class=\"token operator\">></span><span class=\"token number\">9</span><span class=\"token operator\">?</span>myDatem<span class=\"token punctuation\">:</span><span class=\"token string\">'0'</span><span class=\"token operator\">+</span>myDatem<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n     <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span> \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'d'</span> <span class=\"token punctuation\">:</span>partStr <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>  \n  <span class=\"token keyword\">case</span> <span class=\"token string\">'D'</span> <span class=\"token punctuation\">:</span>\n     partStr <span class=\"token operator\">=</span>myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span><span class=\"token number\">9</span><span class=\"token operator\">?</span>myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token string\">'0'</span><span class=\"token operator\">+</span>myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n     <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span> \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'w'</span> <span class=\"token punctuation\">:</span>partStr <span class=\"token operator\">=</span> Week<span class=\"token punctuation\">[</span>myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getDay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'ww'</span> <span class=\"token punctuation\">:</span>partStr <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">WeekNumOfYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'h'</span> <span class=\"token punctuation\">:</span>partStr <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'n'</span> <span class=\"token punctuation\">:</span>partStr <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span>partStr <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span>  \n    <span class=\"token keyword\">return</span> partStr<span class=\"token punctuation\">;</span>  \n<span class=\"token punctuation\">}</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ol start=\"4\">\n<li>日期时间脚本库方法列表</li>\n</ol>\n<p>Date.prototype.isLeapYear 判断闰年\nDate.prototype.Format 日期格式化\nDate.prototype.DateAdd 日期计算\nDate.prototype.DateDiff 比较日期差\nDate.prototype.toString 日期转字符串\nDate.prototype.toArray 日期分割为数组\nDate.prototype.DatePart 取日期的部分信息\nDate.prototype.MaxDayOfDate 取日期所在月的最大天数\nDate.prototype.WeekNumOfYear 判断日期所在年的第几周\nStringToDate 字符串转日期型\nIsValidDate 验证日期有效性\nCheckDateTime 完整日期时间检查\ndaysBetween 日期天数差</p>\n<p>js代码：</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">//---------------------------------------------------  </span>\n<span class=\"token comment\">// 判断闰年  </span>\n<span class=\"token comment\">//---------------------------------------------------  </span>\n<span class=\"token class-name\">Date</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">isLeapYear</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>   \n<span class=\"token punctuation\">{</span>   \n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token operator\">==</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">%</span><span class=\"token number\">4</span><span class=\"token operator\">&amp;&amp;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">%</span><span class=\"token number\">100</span><span class=\"token operator\">!=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token operator\">||</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">%</span><span class=\"token number\">400</span><span class=\"token operator\">==</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n<span class=\"token punctuation\">}</span>   </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">//---------------------------------------------------  </span>\n<span class=\"token comment\">// 日期格式化  </span>\n<span class=\"token comment\">// 格式 YYYY/yyyy/YY/yy 表示年份  </span>\n<span class=\"token comment\">// MM/M 月份  </span>\n<span class=\"token comment\">// W/w 星期  </span>\n<span class=\"token comment\">// dd/DD/d/D 日期  </span>\n<span class=\"token comment\">// hh/HH/h/H 时间  </span>\n<span class=\"token comment\">// mm/m 分钟  </span>\n<span class=\"token comment\">// ss/SS/s/S 秒  </span>\n<span class=\"token comment\">//---------------------------------------------------  </span>\n<span class=\"token class-name\">Date</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">Format</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">formatStr</span><span class=\"token punctuation\">)</span>   \n<span class=\"token punctuation\">{</span>   \n    <span class=\"token keyword\">var</span> str <span class=\"token operator\">=</span> formatStr<span class=\"token punctuation\">;</span>   \n    <span class=\"token keyword\">var</span> Week <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'日'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'一'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'二'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'三'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'四'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'五'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'六'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>  \n  \n    str<span class=\"token operator\">=</span>str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/yyyy|YYYY/</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n    str<span class=\"token operator\">=</span>str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/yy|YY/</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span><span class=\"token number\">9</span><span class=\"token operator\">?</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token string\">'0'</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n  \n    str<span class=\"token operator\">=</span>str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/MM/</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span><span class=\"token number\">9</span><span class=\"token operator\">?</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token string\">'0'</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n    str<span class=\"token operator\">=</span>str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/M/g</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n  \n    str<span class=\"token operator\">=</span>str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/w|W/g</span><span class=\"token punctuation\">,</span>Week<span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n  \n    str<span class=\"token operator\">=</span>str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/dd|DD/</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span><span class=\"token number\">9</span><span class=\"token operator\">?</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token string\">'0'</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n    str<span class=\"token operator\">=</span>str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/d|D/g</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n  \n    str<span class=\"token operator\">=</span>str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/hh|HH/</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span><span class=\"token number\">9</span><span class=\"token operator\">?</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token string\">'0'</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n    str<span class=\"token operator\">=</span>str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/h|H/g</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n    str<span class=\"token operator\">=</span>str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/mm/</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span><span class=\"token number\">9</span><span class=\"token operator\">?</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token string\">'0'</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n    str<span class=\"token operator\">=</span>str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/m/g</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n  \n    str<span class=\"token operator\">=</span>str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/ss|SS/</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span><span class=\"token number\">9</span><span class=\"token operator\">?</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token string\">'0'</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n    str<span class=\"token operator\">=</span>str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/s|S/g</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n  \n    <span class=\"token keyword\">return</span> str<span class=\"token punctuation\">;</span>   \n<span class=\"token punctuation\">}</span>   </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token comment\">//| 求两个时间的天数差 日期格式为 YYYY-MM-dd   </span>\n<span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">daysBetween</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">DateOne<span class=\"token punctuation\">,</span>DateTwo</span><span class=\"token punctuation\">)</span>  \n<span class=\"token punctuation\">{</span>   \n    <span class=\"token keyword\">var</span> OneMonth <span class=\"token operator\">=</span> DateOne<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span>DateOne<span class=\"token punctuation\">.</span><span class=\"token function\">lastIndexOf</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> OneDay <span class=\"token operator\">=</span> DateOne<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span>DateOne<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span>DateOne<span class=\"token punctuation\">.</span><span class=\"token function\">lastIndexOf</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> OneYear <span class=\"token operator\">=</span> DateOne<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>DateOne<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n  \n    <span class=\"token keyword\">var</span> TwoMonth <span class=\"token operator\">=</span> DateTwo<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span>DateTwo<span class=\"token punctuation\">.</span><span class=\"token function\">lastIndexOf</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> TwoDay <span class=\"token operator\">=</span> DateTwo<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span>DateTwo<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span>DateTwo<span class=\"token punctuation\">.</span><span class=\"token function\">lastIndexOf</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> TwoYear <span class=\"token operator\">=</span> DateTwo<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>DateTwo<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n  \n    <span class=\"token keyword\">var</span> cha<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>Date<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>OneMonth<span class=\"token operator\">+</span><span class=\"token string\">'/'</span><span class=\"token operator\">+</span>OneDay<span class=\"token operator\">+</span><span class=\"token string\">'/'</span><span class=\"token operator\">+</span>OneYear<span class=\"token punctuation\">)</span><span class=\"token operator\">-</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>TwoMonth<span class=\"token operator\">+</span><span class=\"token string\">'/'</span><span class=\"token operator\">+</span>TwoDay<span class=\"token operator\">+</span><span class=\"token string\">'/'</span><span class=\"token operator\">+</span>TwoYear<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token number\">86400000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n    <span class=\"token keyword\">return</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>cha<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n<span class=\"token punctuation\">}</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token comment\">//| 日期计算  </span>\n<span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token class-name\">Date</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">DateAdd</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">strInterval<span class=\"token punctuation\">,</span> Number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>   \n    <span class=\"token keyword\">var</span> dtTmp <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>strInterval<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>   \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>Date<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>dtTmp<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1000</span> <span class=\"token operator\">*</span> Number<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'n'</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>Date<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>dtTmp<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token number\">60000</span> <span class=\"token operator\">*</span> Number<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'h'</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>Date<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>dtTmp<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token number\">3600000</span> <span class=\"token operator\">*</span> Number<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'d'</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>Date<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>dtTmp<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token number\">86400000</span> <span class=\"token operator\">*</span> Number<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'w'</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>Date<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>dtTmp<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">86400000</span> <span class=\"token operator\">*</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> Number<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'q'</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> Number<span class=\"token operator\">*</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'m'</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> Number<span class=\"token punctuation\">,</span> dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'y'</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> Number<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dtTmp<span class=\"token punctuation\">.</span><span class=\"token function\">getSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span>  \n<span class=\"token punctuation\">}</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token comment\">//| 比较日期差 dtEnd 格式为日期型或者有效日期格式字符串  </span>\n<span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token class-name\">Date</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">DateDiff</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">strInterval<span class=\"token punctuation\">,</span> dtEnd</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>   \n    <span class=\"token keyword\">var</span> dtStart <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> dtEnd <span class=\"token operator\">==</span> <span class=\"token string\">'string'</span> <span class=\"token punctuation\">)</span><span class=\"token comment\">//如果是字符串转换为日期型  </span>\n    <span class=\"token punctuation\">{</span>   \n        dtEnd <span class=\"token operator\">=</span> <span class=\"token function\">StringToDate</span><span class=\"token punctuation\">(</span>dtEnd<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span>  \n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>strInterval<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>   \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">return</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>dtEnd <span class=\"token operator\">-</span> dtStart<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'n'</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">return</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>dtEnd <span class=\"token operator\">-</span> dtStart<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">60000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'h'</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">return</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>dtEnd <span class=\"token operator\">-</span> dtStart<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">3600000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'d'</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">return</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>dtEnd <span class=\"token operator\">-</span> dtStart<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">86400000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'w'</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">return</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>dtEnd <span class=\"token operator\">-</span> dtStart<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token number\">86400000</span> <span class=\"token operator\">*</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'m'</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>dtEnd<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>dtEnd<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span>dtStart<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>dtStart<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'y'</span> <span class=\"token punctuation\">:</span><span class=\"token keyword\">return</span> dtEnd<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> dtStart<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span>  \n<span class=\"token punctuation\">}</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token comment\">//| 日期输出字符串，重载了系统的toString方法  </span>\n<span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token class-name\">Date</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">toString</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">showWeek</span><span class=\"token punctuation\">)</span>  \n<span class=\"token punctuation\">{</span>   \n    <span class=\"token keyword\">var</span> myDate<span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> str <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleDateString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>showWeek<span class=\"token punctuation\">)</span>  \n    <span class=\"token punctuation\">{</span>   \n        <span class=\"token keyword\">var</span> Week <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'日'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'一'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'二'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'三'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'四'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'五'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'六'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>  \n        str <span class=\"token operator\">+=</span> <span class=\"token string\">' 星期'</span> <span class=\"token operator\">+</span> Week<span class=\"token punctuation\">[</span>myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getDay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span>  \n    <span class=\"token keyword\">return</span> str<span class=\"token punctuation\">;</span>  \n<span class=\"token punctuation\">}</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token comment\">//| 日期合法性验证  </span>\n<span class=\"token comment\">//| 格式为：YYYY-MM-DD或YYYY/MM/DD  </span>\n<span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">IsValidDate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">DateStr</span><span class=\"token punctuation\">)</span>   \n<span class=\"token punctuation\">{</span>   \n    <span class=\"token keyword\">var</span> sDate<span class=\"token operator\">=</span>DateStr<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/(^\\s+|\\s+$)/g</span><span class=\"token punctuation\">,</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//去两边空格;   </span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>sDate<span class=\"token operator\">==</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>   \n    <span class=\"token comment\">//如果格式满足YYYY-(/)MM-(/)DD或YYYY-(/)M-(/)DD或YYYY-(/)M-(/)D或YYYY-(/)MM-(/)D就替换为''   </span>\n    <span class=\"token comment\">//数据库中，合法日期可以是:YYYY-MM/DD(2003-3/21),数据库会自动转换为YYYY-MM-DD格式   </span>\n    <span class=\"token keyword\">var</span> s <span class=\"token operator\">=</span> sDate<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/[\\d]{ 4,4 }[\\-/]{ 1 }[\\d]{ 1,2 }[\\-/]{ 1 }[\\d]{ 1,2 }/g</span><span class=\"token punctuation\">,</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>s<span class=\"token operator\">==</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//说明格式满足YYYY-MM-DD或YYYY-M-DD或YYYY-M-D或YYYY-MM-D   </span>\n    <span class=\"token punctuation\">{</span>   \n        <span class=\"token keyword\">var</span> t<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>sDate<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/\\-/g</span><span class=\"token punctuation\">,</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n        <span class=\"token keyword\">var</span> ar <span class=\"token operator\">=</span> sDate<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/[-/:]/</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>ar<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> t<span class=\"token punctuation\">.</span><span class=\"token function\">getYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> ar<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> t<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">1</span> <span class=\"token operator\">||</span> ar<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> t<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>   \n        <span class=\"token punctuation\">{</span>   \n            <span class=\"token comment\">//alert('错误的日期格式！格式为：YYYY-MM-DD或YYYY/MM/DD。注意闰年。');   </span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>   \n        <span class=\"token punctuation\">}</span>   \n    <span class=\"token punctuation\">}</span>   \n    <span class=\"token keyword\">else</span>   \n    <span class=\"token punctuation\">{</span>   \n        <span class=\"token comment\">//alert('错误的日期格式！格式为：YYYY-MM-DD或YYYY/MM/DD。注意闰年。');   </span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>   \n    <span class=\"token punctuation\">}</span>   \n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>   \n<span class=\"token punctuation\">}</span>   </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token comment\">//| 日期时间检查  </span>\n<span class=\"token comment\">//| 格式为：YYYY-MM-DD HH:MM:SS  </span>\n<span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">CheckDateTime</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">str</span><span class=\"token punctuation\">)</span>  \n<span class=\"token punctuation\">{</span>   \n    <span class=\"token keyword\">var</span> reg <span class=\"token operator\">=</span> <span class=\"token regex\">/^(\\d+)-(\\d{ 1,2 })-(\\d{ 1,2 }) (\\d{ 1,2 }):(\\d{ 1,2 }):(\\d{ 1,2 })$/</span><span class=\"token punctuation\">;</span>   \n    <span class=\"token keyword\">var</span> r <span class=\"token operator\">=</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>reg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>r<span class=\"token operator\">==</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>   \n    r<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>r<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>   \n    <span class=\"token keyword\">var</span> d<span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>r<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>r<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>r<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>r<span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>r<span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!=</span>r<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>   \n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!=</span>r<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>   \n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!=</span>r<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>   \n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!=</span>r<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>   \n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!=</span>r<span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>   \n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span><span class=\"token function\">getSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!=</span>r<span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>   \n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>   \n<span class=\"token punctuation\">}</span>   </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token comment\">//| 把日期分割成数组  </span>\n<span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token class-name\">Date</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">toArray</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  \n<span class=\"token punctuation\">{</span>   \n    <span class=\"token keyword\">var</span> myDate <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> myArray <span class=\"token operator\">=</span> <span class=\"token function\">Array</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    myArray<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    myArray<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    myArray<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    myArray<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    myArray<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    myArray<span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">return</span> myArray<span class=\"token punctuation\">;</span>  \n<span class=\"token punctuation\">}</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token comment\">//| 取得日期数据信息  </span>\n<span class=\"token comment\">//| 参数 interval 表示数据类型  </span>\n<span class=\"token comment\">//| y 年 m月 d日 w星期 ww周 h时 n分 s秒  </span>\n<span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token class-name\">Date</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">DatePart</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">interval</span><span class=\"token punctuation\">)</span>  \n<span class=\"token punctuation\">{</span>   \n    <span class=\"token keyword\">var</span> myDate <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> partStr<span class=\"token operator\">=</span><span class=\"token string\">''</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> Week <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'日'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'一'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'二'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'三'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'四'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'五'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'六'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>interval<span class=\"token punctuation\">)</span>  \n    <span class=\"token punctuation\">{</span>   \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'y'</span> <span class=\"token punctuation\">:</span>partStr <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'m'</span> <span class=\"token punctuation\">:</span>partStr <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'d'</span> <span class=\"token punctuation\">:</span>partStr <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'w'</span> <span class=\"token punctuation\">:</span>partStr <span class=\"token operator\">=</span> Week<span class=\"token punctuation\">[</span>myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getDay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'ww'</span> <span class=\"token punctuation\">:</span>partStr <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">WeekNumOfYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'h'</span> <span class=\"token punctuation\">:</span>partStr <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'n'</span> <span class=\"token punctuation\">:</span>partStr <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">case</span> <span class=\"token string\">'s'</span> <span class=\"token punctuation\">:</span>partStr <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span>  \n    <span class=\"token keyword\">return</span> partStr<span class=\"token punctuation\">;</span>  \n<span class=\"token punctuation\">}</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token comment\">//| 取得当前日期所在月的最大天数  </span>\n<span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token class-name\">Date</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">MaxDayOfDate</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  \n<span class=\"token punctuation\">{</span>   \n    <span class=\"token keyword\">var</span> myDate <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> ary <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">toArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> date1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>ary<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>ary<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> date2 <span class=\"token operator\">=</span> date1<span class=\"token punctuation\">.</span><span class=\"token function\">dateAdd</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token string\">'m'</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> result <span class=\"token operator\">=</span> <span class=\"token function\">dateDiff</span><span class=\"token punctuation\">(</span>date1<span class=\"token punctuation\">.</span><span class=\"token function\">Format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'yyyy-MM-dd'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>date2<span class=\"token punctuation\">.</span><span class=\"token function\">Format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'yyyy-MM-dd'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>  \n<span class=\"token punctuation\">}</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token comment\">//| 取得当前日期所在周是一年中的第几周  </span>\n<span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token class-name\">Date</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">WeekNumOfYear</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  \n<span class=\"token punctuation\">{</span>   \n    <span class=\"token keyword\">var</span> myDate <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> ary <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">toArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> year <span class=\"token operator\">=</span> ary<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> month <span class=\"token operator\">=</span> ary<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> day <span class=\"token operator\">=</span> ary<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>  \n    document<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt; script language=VBScript\\> \\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    document<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myDate = Datue('</span><span class=\"token string\">'+month+'</span><span class=\"token operator\">-</span><span class=\"token string\">'+day+'</span><span class=\"token operator\">-</span><span class=\"token string\">'+year+'</span><span class=\"token string\">') \\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    document<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">'result = DatePart('</span>ww<span class=\"token string\">', myDate) \\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    document<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">' \\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>  \n<span class=\"token punctuation\">}</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token comment\">//| 字符串转成日期类型   </span>\n<span class=\"token comment\">//| 格式 MM/dd/YYYY MM-dd-YYYY YYYY/MM/dd YYYY-MM-dd  </span>\n<span class=\"token comment\">//+---------------------------------------------------  </span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">StringToDate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">DateStr</span><span class=\"token punctuation\">)</span>  \n<span class=\"token punctuation\">{</span>   \n  \n    <span class=\"token keyword\">var</span> converted <span class=\"token operator\">=</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>DateStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">var</span> myDate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>converted<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isNaN</span><span class=\"token punctuation\">(</span>myDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  \n    <span class=\"token punctuation\">{</span>   \n        <span class=\"token comment\">//var delimCahar = DateStr.indexOf('/')!=-1?'/':'-';  </span>\n        <span class=\"token keyword\">var</span> arys<span class=\"token operator\">=</span> DateStr<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        myDate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>arys<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token operator\">--</span>arys<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>arys<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span>  \n    <span class=\"token keyword\">return</span> myDate<span class=\"token punctuation\">;</span>  \n<span class=\"token punctuation\">}</span> </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>若要显示:当前日期加时间(如:2012-06-12 12:00)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 0\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">CurentTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span> \n        <span class=\"token keyword\">var</span> now <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       \n        <span class=\"token keyword\">var</span> year <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>       <span class=\"token comment\">//年</span>\n        <span class=\"token keyword\">var</span> month <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">//月</span>\n        <span class=\"token keyword\">var</span> day <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>            <span class=\"token comment\">//日</span>\n       \n        <span class=\"token keyword\">var</span> hh <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>            <span class=\"token comment\">//时</span>\n        <span class=\"token keyword\">var</span> mm <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>          <span class=\"token comment\">//分</span>\n       \n        <span class=\"token keyword\">var</span> clock <span class=\"token operator\">=</span> year <span class=\"token operator\">+</span> <span class=\"token string\">\"-\"</span><span class=\"token punctuation\">;</span>\n       \n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>month <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n            clock <span class=\"token operator\">+=</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">;</span>\n       \n        clock <span class=\"token operator\">+=</span> month <span class=\"token operator\">+</span> <span class=\"token string\">\"-\"</span><span class=\"token punctuation\">;</span>\n       \n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>day <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n            clock <span class=\"token operator\">+=</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">;</span>\n           \n        clock <span class=\"token operator\">+=</span> day <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">;</span>\n       \n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>hh <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n            clock <span class=\"token operator\">+=</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">;</span>\n           \n        clock <span class=\"token operator\">+=</span> hh <span class=\"token operator\">+</span> <span class=\"token string\">\":\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>mm <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> clock <span class=\"token operator\">+=</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">;</span> \n        clock <span class=\"token operator\">+=</span> mm<span class=\"token punctuation\">;</span> \n        <span class=\"token keyword\">return</span><span class=\"token punctuation\">(</span>clock<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n    <span class=\"token punctuation\">}</span>\n \n<span class=\"token comment\">// 日期加上天数得到新的日期</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">addday</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">days</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> dt <span class=\"token operator\">=</span> <span class=\"token string\">\"2016-02-28\"</span><span class=\"token punctuation\">;</span>\n    dt <span class=\"token operator\">=</span> dt<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//js不认2011-11-10,只认2011/11/10</span>\n    <span class=\"token keyword\">var</span> t1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>dt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> days <span class=\"token operator\">*</span> <span class=\"token number\">24</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 日期加上指定的天数</span>\n    <span class=\"token keyword\">var</span> month<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> day<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>t1<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">//                alert(\"0\"+(t1.getMonth() + 1));</span>\n        month <span class=\"token operator\">=</span> <span class=\"token string\">\"0\"</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>t1<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        month <span class=\"token operator\">=</span> t1<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>t1<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        day <span class=\"token operator\">=</span> <span class=\"token string\">\"0\"</span> <span class=\"token operator\">+</span> t1<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        day <span class=\"token operator\">=</span> t1<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token comment\">//            var ttt=  t1.getFullYear() + \"-\" + (t1.getMonth() + 1) + \"-\" + t1.getDate();</span>\n    <span class=\"token keyword\">var</span> ttt <span class=\"token operator\">=</span> t1<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"-\"</span> <span class=\"token operator\">+</span> month <span class=\"token operator\">+</span> <span class=\"token string\">\"-\"</span> <span class=\"token operator\">+</span> day<span class=\"token punctuation\">;</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>ttt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">addday</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","frontmatter":{"date":"Wednesday, April 3rd 2019, 6:18:56 am","title":"JavaScript Date 对象","tags":["HOT","JavaScript","精选"],"description":"Date 对象用于处理日期和时间。"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/javascript/2019-04-03-regular-expression/","previous":{"fields":{"slug":"/javascript/2019-04-03-object-date/"},"frontmatter":{"title":"常用正则表达式","tags":["HOT","JavaScript","正则表达式","精选"]}},"next":{"fields":{"slug":"/htmlcss/2019-04-03-no-cache-html-meta/"},"frontmatter":{"title":"页面缓存","tags":["HOT","HTML"]}}}}